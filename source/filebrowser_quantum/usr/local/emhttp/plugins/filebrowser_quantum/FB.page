Menu="Tasks:91"
Type="xmenu"
Title="FQ"
Icon="folder-open"
Tabs="no"
---
<?php
  $addr = $_SERVER['SERVER_ADDR'];
  $protocol = (!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] !== 'off') ? "https" : "http";
  $port = trim(exec("/usr/local/emhttp/plugins/filebrowser_quantum/Daemon.sh GET_PORT"));
  if (empty($port) || !is_numeric($port)) {
      $port = "8081";
  }
?>

<style>
  /* 魔法代码：强行让 Unraid 的主内容区域填满屏幕 */
  #sb-site, .main-area, #main { 
    height: 100% !important; 
    overflow: hidden !important; 
    margin: 0 !important; 
    padding: 0 !important; 
  }

  /* 适配 Unraid 顶栏高度，确保 iframe 不被遮挡也不留白 */
  .fb-full-view {
    position: fixed;
    top: 60px; /* Unraid 顶栏的常规高度 */
    left: 0;
    right: 0;
    bottom: 26px; /* 留出底部状态栏高度 */
    z-index: 1;
    background: #000;
  }

  .fb-full-iframe {
    width: 100%;
    height: 100%;
    border: none;
    display: block;
  }
</style>

<div class="fb-full-view">
  <iframe src="<?=$protocol?>://<?=$addr?>:<?=$port?>?v=<?=time()?>" class="fb-full-iframe"></iframe>
</div>
